;(function() {
"use strict";

var meister=angular.module("meister",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router","ngCookies"]);!function(e){e.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/login"),e.state("login",{url:"/login",templateUrl:"partials/login-partial.html",controller:"loginController"}).state("home",{url:"/",templateUrl:"partials/home-partial.html",controller:"HomeController"}).state("about",{url:"/about",templateUrl:"partials/about-partial.html",controller:"AboutController"})}]).run(["$rootScope","$location","$cookieStore","$http",function(e,t,r,o){e.globals=r.get("globals")||{},e.globals.currentUser&&(o.defaults.headers.common.Authorization="Basic "+e.globals.currentUser.authdata),e.$on("$locationChangeStart",function(r,o,n){"/login"===t.path()||e.globals.currentUser||t.path("/login")})}])}(meister),function(e){e.factory("AuthenticationService",["Base64","$http","$cookieStore","$rootScope","$timeout",function(e,t,r,o,n){var a={};return a.Login=function(e,t,r){n(function(){var o={success:"test"===e&&"test"===t};o.success||(o.message="Username or password is incorrect"),r(o)},1e3)},a.SetCredentials=function(n,a){var i=e.encode(n+":"+a);o.globals={currentUser:{username:n,authdata:i}},t.defaults.headers.common.Authorization="Basic "+i,r.put("globals",o.globals)},a.ClearCredentials=function(){o.globals={},r.remove("globals"),t.defaults.headers.common.Authorization="Basic "},a}]).factory("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){var r,o,n,a,i,l="",c="",s="",u=0;do{r=t.charCodeAt(u++),o=t.charCodeAt(u++),c=t.charCodeAt(u++),n=r>>2,a=(3&r)<<4|o>>4,i=(15&o)<<2|c>>6,s=63&c,isNaN(o)?i=s=64:isNaN(c)&&(s=64),l=l+e.charAt(n)+e.charAt(a)+e.charAt(i)+e.charAt(s),r=o=c="",n=a=i=s=""}while(u<t.length);return l},decode:function(t){var r,o,n,a,i,l="",c="",s="",u=0;/[^A-Za-z0-9\+\/\=]/g.exec(t)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),i=e.indexOf(t.charAt(u++)),s=e.indexOf(t.charAt(u++)),r=n<<2|a>>4,o=(15&a)<<4|i>>2,c=(3&i)<<6|s,l+=String.fromCharCode(r),64!=i&&(l+=String.fromCharCode(o)),64!=s&&(l+=String.fromCharCode(c)),r=o=c="",n=a=i=s=""}while(u<t.length);return l}}})}(meister),function(e){e.controller("AboutController",["$scope",function(e){}])}(meister),function(e){e.controller("HomeController",["$scope",function(e){}])}(meister),function(e){e.controller("LoginController",["$scope","$rootScope","$location","AuthenticationService",function(e,t,r,o){o.ClearCredentials(),e.login=function(){o.Login(e.username,e.password,function(t){t.success?(o.SetCredentials(e.username,e.password),r.path("/")):e.error=t.message})}}])}(meister);
}());
